<div id="did_figure_property"></div>
<script type="text/javascript">
var spec = {'config': {'view': {'width': 400, 'height': 300}, 'axis': {'labelFontSize': 12, 'titleFontSize': 12}, 'legend': {'labelFontSize': 12, 'titleFontSize': 12}}, 'layer': [{'mark': {'type': 'line', 'clip': "True"}, 'encoding': {'color': {'type': 'nominal', 'field': 'block_status', 'sort': ['Treated', 'One over', 'Two over', 'Three over'], 'title': 'Block status'}, 'tooltip': {'type': 'quantitative', 'field': 'property_count'}, 'x': {'type': 'quantitative', 'axis': {'format': '.1', 'title': 'School years before/after implementation of SP program', 'values': [-5, -4, -3, -2, -1, 0, 1, 2]}, 'field': 'run_var', 'scale': {'domain': [-5, 3]}}, 'y': {'type': 'quantitative', 'axis': {'title': 'Crime count per school year'}, 'field': 'property_count'}}, 'transform': [{'filter': 'datum.run_var < 0'}]}, {'mark': {'type': 'line', 'clip': "True"}, 'encoding': {'color': {'type': 'nominal', 'field': 'block_status', 'legend': null, 'sort': ['Treated', 'One over', 'Two over', 'Three over']}, 'tooltip': {'type': 'quantitative', 'field': 'property_count'}, 'x': {'type': 'quantitative', 'axis': {'format': '.1', 'title': 'School years before/after implementation of SP program', 'values': [-5, -4, -3, -2, -1, 0, 1, 2]}, 'field': 'run_var', 'scale': {'domain': [-5, 3]}}, 'y': {'type': 'quantitative', 'axis': {'title': 'Crime count per school year'}, 'field': 'property_count'}}, 'transform': [{'filter': 'datum.run_var >= 0'}]}, {'data': {'values': [{'implement_year': -0.5}]}, 'mark': 'rule', 'encoding': {'x': {'type': 'quantitative', 'field': 'implement_year'}}}, {'data': {'values': [{'implement_year': -0.5}]}, 'mark': {'type': 'text', 'angle': 270, 'dx': -100, 'dy': -5}, 'encoding': {'text': {'value': 'Implementation'}, 'x': {'type': 'quantitative', 'field': 'implement_year'}}}], 'data': {'values': [{'run_var': -5.0, 'property_count': 1.1232522009321595, 'block_status': 'One over'}, {'run_var': -5.0, 'property_count': 0.9492725127801809, 'block_status': 'Three over'}, {'run_var': -5.0, 'property_count': 1.4275420336269016, 'block_status': 'Treated'}, {'run_var': -5.0, 'property_count': 1.078512396694215, 'block_status': 'Two over'}, {'run_var': -4.0, 'property_count': 0.9076609379551412, 'block_status': 'One over'}, {'run_var': -4.0, 'property_count': 0.8243781094527363, 'block_status': 'Three over'}, {'run_var': -4.0, 'property_count': 1.2866300366300367, 'block_status': 'Treated'}, {'run_var': -4.0, 'property_count': 0.873114224137931, 'block_status': 'Two over'}, {'run_var': -3.0, 'property_count': 1.0690358287212351, 'block_status': 'One over'}, {'run_var': -3.0, 'property_count': 0.9258706467661691, 'block_status': 'Three over'}, {'run_var': -3.0, 'property_count': 1.5544871794871795, 'block_status': 'Treated'}, {'run_var': -3.0, 'property_count': 1.0088900862068966, 'block_status': 'Two over'}, {'run_var': -2.0, 'property_count': 1.0099038741625401, 'block_status': 'One over'}, {'run_var': -2.0, 'property_count': 0.9121890547263681, 'block_status': 'Three over'}, {'run_var': -2.0, 'property_count': 1.6057692307692308, 'block_status': 'Treated'}, {'run_var': -2.0, 'property_count': 0.9827586206896551, 'block_status': 'Two over'}, {'run_var': -1.0, 'property_count': 0.9225167491989513, 'block_status': 'One over'}, {'run_var': -1.0, 'property_count': 0.8194029850746268, 'block_status': 'Three over'}, {'run_var': -1.0, 'property_count': 1.505952380952381, 'block_status': 'Treated'}, {'run_var': -1.0, 'property_count': 0.8814655172413793, 'block_status': 'Two over'}, {'run_var': 0.0, 'property_count': 0.8412467229828139, 'block_status': 'One over'}, {'run_var': 0.0, 'property_count': 0.7420398009950249, 'block_status': 'Three over'}, {'run_var': 0.0, 'property_count': 1.4075091575091576, 'block_status': 'Treated'}, {'run_var': 0.0, 'property_count': 0.8362068965517241, 'block_status': 'Two over'}, {'run_var': 1.0, 'property_count': 0.8243442381373416, 'block_status': 'One over'}, {'run_var': 1.0, 'property_count': 0.7193384223918575, 'block_status': 'Three over'}, {'run_var': 1.0, 'property_count': 1.2273998136067101, 'block_status': 'Treated'}, {'run_var': 1.0, 'property_count': 0.801953336950624, 'block_status': 'Two over'}, {'run_var': 2.0, 'property_count': 0.8407485875706214, 'block_status': 'One over'}, {'run_var': 2.0, 'property_count': 0.6958930899608866, 'block_status': 'Three over'}, {'run_var': 2.0, 'property_count': 1.31175468483816, 'block_status': 'Treated'}, {'run_var': 2.0, 'property_count': 0.7557328015952144, 'block_status': 'Two over'}, {'run_var': 3.0, 'property_count': 0.8462017434620175, 'block_status': 'One over'}, {'run_var': 3.0, 'property_count': 0.7526041666666666, 'block_status': 'Three over'}, {'run_var': 3.0, 'property_count': 1.4826560951437067, 'block_status': 'Treated'}, {'run_var': 3.0, 'property_count': 0.811965811965812, 'block_status': 'Two over'}]}, 'height': 400, 'resolve': {'scale': {'color': 'independent'}}, 'width': 600, '$schema': 'https://vega.github.io/schema/vega-lite/v2.4.3.json'};
var embed_opt = {"mode": "vega-lite"};vegaEmbed("#did_figure_property", spec, embed_opt)
      .catch(console.error);
    </script>
    